{"ast":null,"code":"var _jsxFileName = \"/home/sergey/Documents/own_project/MVP/mvp-crash-course/src/components/app/index.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Header from '../../containers/header';\nimport Main from '../main';\nimport LoginPage from '../../containers/loginPage';\nimport GetToken from '../../containers/getToken';\nimport { ThemeProvider } from '../themeContext';\nimport './style.scss';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTokenPresented: localStorage.getItem('isTokenPresented') === 'true',\n      darkTheme: false\n    };\n\n    this.toggleTheme = e => {\n      e.preventDefault();\n      this.setState(state => ({\n        darkTheme: !state.darkTheme\n      }));\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      isTokenPresented: localStorage.getItem('isTokenPresented') === 'true'\n    });\n  }\n\n  render() {\n    const Resume = () => /*#__PURE__*/React.createElement(ThemeProvider, {\n      value: {\n        darkTheme: this.state.darkTheme,\n        toggleTheme: this.toggleTheme\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.darkTheme ? \"dark\" : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Main, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    })));\n\n    const LoginRoute = () => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return /*#__PURE__*/React.createElement(Route, {\n        render: () => !isTokenPresented ? /*#__PURE__*/React.createElement(Route, {\n          path: \"/login\",\n          component: LoginPage,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }\n        }) : /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/resume\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      });\n    };\n\n    const ResumeRoute = ({\n      component: Component,\n      ...rest\n    }) => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n        render: () => isTokenPresented ? /*#__PURE__*/React.createElement(Route, {\n          path: \"/resume\",\n          component: Resume,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }\n        }) : /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    const PrivateRoute = () => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return /*#__PURE__*/React.createElement(Route, {\n        render: () => isTokenPresented ? /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/resume\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }\n        }) : /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/token\",\n      component: GetToken,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(LoginRoute, {\n      path: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ResumeRoute, {\n      path: \"/resume\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(PrivateRoute, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\n;\nexport default App;","map":{"version":3,"sources":["/home/sergey/Documents/own_project/MVP/mvp-crash-course/src/components/app/index.js"],"names":["React","Component","BrowserRouter","Route","Switch","Redirect","Header","Main","LoginPage","GetToken","ThemeProvider","App","constructor","props","state","isTokenPresented","localStorage","getItem","darkTheme","toggleTheme","e","preventDefault","setState","componentDidMount","render","Resume","LoginRoute","ResumeRoute","component","rest","PrivateRoute"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  BrowserRouter, Route, Switch, Redirect,\n} from 'react-router-dom';\nimport Header from '../../containers/header';\nimport Main from '../main';\nimport LoginPage from '../../containers/loginPage';\nimport GetToken from '../../containers/getToken';\nimport { ThemeProvider } from '../themeContext';\n\nimport './style.scss';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isTokenPresented: localStorage.getItem('isTokenPresented') === 'true',\n      darkTheme: false\n    };\n\n    this.toggleTheme = (e) => {\n      e.preventDefault();\n      \n      this.setState(state => ({\n        darkTheme: !state.darkTheme\n      }));\n    }\n  }\n\n  async componentDidMount() {\n    this.setState({\n      isTokenPresented: localStorage.getItem('isTokenPresented') === 'true'\n    });\n  }\n  \n  render() {\n    const Resume = () => (\n      <ThemeProvider value={{\n        darkTheme: this.state.darkTheme,\n        toggleTheme: this.toggleTheme\n      }}>\n        <div className={this.state.darkTheme ? \"dark\" : null}>\n          <Header/>\n          <Main />\n        </div>\n      </ThemeProvider>\n    );\n    \n    const LoginRoute = () => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return (\n        <Route render={() => (\n          !isTokenPresented\n            ? <Route path='/login' component={LoginPage}/>\n            : <Redirect to='/resume'/>\n          )}\n        />\n      )\n    };\n\n    const ResumeRoute = ({ component: Component, ...rest }) => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return (\n        <Route {...rest} render={() => (\n          isTokenPresented\n            ? <Route path='/resume' component={Resume}/>\n            : <Redirect to='/login'/>\n        )}\n        />\n      )\n    };\n\n    const PrivateRoute = () => {\n      const isTokenPresented = localStorage.getItem('isTokenPresented') === 'true';\n      return (\n        <Route render={() => (\n          isTokenPresented\n            ? <Redirect to='/resume'/>\n            : <Redirect to='/login'/>\n        )}\n        />\n      )\n    };\n\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path='/token' component={GetToken}/>\n          <LoginRoute path='/login'/>\n          <ResumeRoute path='/resume'/>\n          <PrivateRoute/>\n        </Switch>\n      </BrowserRouter>\n    )\n  }\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}