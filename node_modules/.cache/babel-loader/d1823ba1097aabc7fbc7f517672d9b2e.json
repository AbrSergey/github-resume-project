{"ast":null,"code":"import axios from 'axios';\nimport config from '../config';\nconst backend = axios.create({\n  baseURL: `${config.backend.host}/api/resume`\n});\nconst gitHubBackend = axios.create({\n  baseURL: 'https://github.com'\n});\nexport const socialLinksGet = () => backend.get('/social_links');\nexport const generalInformationGet = () => backend.get('/general_information');\nexport const skillsGet = () => backend.get('/skills');\nexport const educationGet = () => backend.get('/education');\nexport const authorize = username => gitHubBackend.get(`/login/oauth/authorize?login=${username}&client_id=${config.client_id}`);\nexport const getAccessToken = async code => {\n  const {\n    client_id,\n    client_secret\n  } = config.github;\n  const {\n    data\n  } = await backend.post('/token', {\n    code,\n    client_id,\n    client_secret\n  });\n\n  if (data.indexOf('access_token=') !== -1) {\n    const access_token = data.substring('access_token='.length, data.indexOf('&scope='));\n    localStorage.setItem('access_token', access_token);\n    localStorage.setItem('isTokenPresented', true);\n    return null;\n  } else return data;\n};","map":{"version":3,"sources":["/home/sergey/Documents/own_project/MVP/mvp-crash-course/src/services/backend.js"],"names":["axios","config","backend","create","baseURL","host","gitHubBackend","socialLinksGet","get","generalInformationGet","skillsGet","educationGet","authorize","username","client_id","getAccessToken","code","client_secret","github","data","post","indexOf","access_token","substring","length","localStorage","setItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AAAEC,EAAAA,OAAO,EAAG,GAAEH,MAAM,CAACC,OAAP,CAAeG,IAAK;AAAlC,CAAb,CAAhB;AACA,MAAMC,aAAa,GAAGN,KAAK,CAACG,MAAN,CAAa;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAb,CAAtB;AAEA,OAAO,MAAMG,cAAc,GAAG,MAAML,OAAO,CAACM,GAAR,CAAY,eAAZ,CAA7B;AACP,OAAO,MAAMC,qBAAqB,GAAG,MAAMP,OAAO,CAACM,GAAR,CAAY,sBAAZ,CAApC;AACP,OAAO,MAAME,SAAS,GAAG,MAAMR,OAAO,CAACM,GAAR,CAAY,SAAZ,CAAxB;AACP,OAAO,MAAMG,YAAY,GAAG,MAAMT,OAAO,CAACM,GAAR,CAAY,YAAZ,CAA3B;AAEP,OAAO,MAAMI,SAAS,GAAIC,QAAD,IAAcP,aAAa,CAACE,GAAd,CAAmB,gCAA+BK,QAAS,cAAaZ,MAAM,CAACa,SAAU,EAAzF,CAAhC;AACP,OAAO,MAAMC,cAAc,GAAG,MAAOC,IAAP,IAAgB;AAC5C,QAAM;AAAEF,IAAAA,SAAF;AAAaG,IAAAA;AAAb,MAA+BhB,MAAM,CAACiB,MAA5C;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMjB,OAAO,CAACkB,IAAR,CAAa,QAAb,EAAuB;AAC5CJ,IAAAA,IAD4C;AACtCF,IAAAA,SADsC;AAC3BG,IAAAA;AAD2B,GAAvB,CAAvB;;AAIA,MAAIE,IAAI,CAACE,OAAL,CAAa,eAAb,MAAkC,CAAC,CAAvC,EAA0C;AACxC,UAAMC,YAAY,GAAGH,IAAI,CAACI,SAAL,CAAe,gBAAgBC,MAA/B,EAAuCL,IAAI,CAACE,OAAL,CAAa,SAAb,CAAvC,CAArB;AACAI,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCJ,YAArC;AACAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyC,IAAzC;AACA,WAAO,IAAP;AACD,GALD,MAMK,OAAOP,IAAP;AACN,CAbM","sourcesContent":["import axios from 'axios';\nimport config from '../config';\n\nconst backend = axios.create({ baseURL: `${config.backend.host}/api/resume` });\nconst gitHubBackend = axios.create({ baseURL: 'https://github.com' });\n\nexport const socialLinksGet = () => backend.get('/social_links');\nexport const generalInformationGet = () => backend.get('/general_information');\nexport const skillsGet = () => backend.get('/skills');\nexport const educationGet = () => backend.get('/education');\n\nexport const authorize = (username) => gitHubBackend.get(`/login/oauth/authorize?login=${username}&client_id=${config.client_id}`);\nexport const getAccessToken = async (code) => {\n  const { client_id, client_secret } = config.github;\n  const { data } = await backend.post('/token', {\n    code, client_id, client_secret\n  });\n\n  if (data.indexOf('access_token=') !== -1) {\n    const access_token = data.substring('access_token='.length, data.indexOf('&scope='));\n    localStorage.setItem('access_token', access_token);\n    localStorage.setItem('isTokenPresented', true);\n    return null;\n  }\n  else return data;\n}"]},"metadata":{},"sourceType":"module"}